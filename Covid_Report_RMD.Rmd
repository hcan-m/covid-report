---
title: |
 <p align="center">
  <img src="https://www.wne.uw.edu.pl/themes/wne/images/en-logo.gif"></p>  
  <h2 style="color:#660033;" align= "center">**Advanced R Visualization Final Project**</h2>
subtitle: <h4 style="color:DimGrey;" align= "center">_A Look at the Pandemic for a Specified Period</h4>
author: 
  - <h5 style="color:Grey;" align="center">_Huseyin Can Minareci, 417121_</h5>
  - <h5 style="color:Grey;" align="center">_Didem Paloglu, 425160_</h5>
output:
  html_document:
    self_contained: true
    lib_dir: libs
    theme: spacelab
    highlight: tango
    toc: true
    toc_depth: 3
    toc_float:
      collapsed: true
    smooth_scroll: true
editor_options: 
  chunk_output_type: console
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(knitr)
library(vcd)
library(grid)
library(kableExtra)
library(readxl) # reading from excel
library(tibble) 
library(ggplot2)
library(dplyr)
library(lubridate)
library(ggthemes)
library(plotly)
library(ggpmisc)
library(gridExtra)
library(ggrepel)
library(ggforce)
library(ggraph)
library(viridis)
library(ggmap)
library(maps)
library(stringr)
library(tidygeocoder)
library(RColorBrewer)
library(scales)
library(ggpubr)
library(httr)
library(readr)
library(treemapify)
library(xts)
library(dygraphs)
library(egg)
library(gganimate)
library(hrbrthemes)
```

```{r}
### Variables

country <- params$country


```

## INTRODUCTION


## In this project, we will analyze the Covid-19 pandemic for a specified time period. This will be an aoutomated report that anyone can change the time period or country or etc. 


## World total case number by country on the map Didem 


## Countryâ€™s demographic stats (Health expenditure of the country per capita percent) (first dose given % fully vaccinated %) Can


## Detailed report of Country


## First paragraph explain how situation looks like how many people died in the chosen period / how many case / how many hospitalized / how many healed / how many vaccinated / reproduction number Didem


## Total case number (line) new case Didem


## Icu-patients + hosp_patients Can


## Daily death Can


## Test number Didem


## Linear regression or correlation between test number and positive case Didem


## Vaccination (1st dose (Check if which vaccination is being used) Can


## New Vaccination (weekly group by then take max of first dose second dose) Can


```{r message=FALSE, warning=FALSE, include=FALSE}

# reading the data set

covid <- read.csv("covid_data.csv", sep=";", header=TRUE)

```

### First Graph (World Map)

```{r echo=FALSE, message=FALSE, warning=FALSE}


# world map data giving the total case density in each country

total_cases <- covid %>%
  group_by(Country = location) %>%
  dplyr::summarize(total_cases = sum(total_cases))%>%
  mutate(geo(Country, method = 'osm'))

theme_set(theme_bw()) # setting the plot theme


```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# creating the map 

qmplot(long, lat, data = total_cases, 
       size = total_cases,color = I("darkorange"), alpha = I(0.4),
       zoom = 4, maptype = "toner-lite", 
       main = "Distribution of Strikes Among US States") +
  guides(size = FALSE) +
  scale_size_continuous(range=c(1,25)) +
  theme(plot.title = element_text(color = "gray35", 
                                  size = 11, 
                                  face = "bold", 
                                  hjust = 0.5),
        legend.position = "none")

```

